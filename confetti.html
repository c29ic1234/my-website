<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>

	<style>
		.rectangles{
			width: 10px;
			height:30px;
			border: 1px solid pink;
			display: inline-block;
			position: absolute;
			animation-name: swing;
			animation-duration: 2s;
			animation-timing-function: ease-in-out;
		}

		@keyframes swing {
			from {
				transform: rotate(-360deg);
			}

			to {
				transform: rotate(360deg);
			}
		}

		@keyframes swing3d {
			from {
				transform: rotateX(45deg) rotateY(-180deg);
			}
			to {
				transform: rotateX(-45deg) rotateY(180deg);
			}
		}
	</style>
</head>
<body>

	<button id="btn">drop confetti</button>
	<input type="color" value="#ff0000" id="colorPicker">

	<script type=text/javascript>
	let colors = ["#03045e", "#023e8a", "#0077b6", "#0096c7", "#00b4d8", "#48cae4", "#90e0ef", "#ade8f4", "#caf0f8"]

	let dropConfettiBtn = document.getElementById("btn")
	function makeConfetti (){
			let confetti = document.createElement("div")
			confetti.classList.add("rectangles")

			document.body.appendChild(confetti)

			let r= Math.round(Math.random()*255)
			let g= Math.round(Math.random()*255)
			let b= Math.round(Math.random()*255) 
			let rotation = Math.random() * 360

			let startRot = Math.random() * -60 + "deg"
			let endRot = Math.random() * 60 + "deg"
			let randomColorIndex = Math.floor(Math.random() * colors.length)
			console.log(randomColorIndex)

			confetti.style.backgroundColor = colorPicker.value

			confetti.style.left = Math.random()*1500+"px"
			confetti.style.top = Math.random()*1000+"px"
			confetti.style.transform = `rotate(${rotation}deg)`
			console.log(confetti.style.top)

			confetti.style.top = Math.random() * 1000 + "px"
			confetti.style.left = Math.random() * 1500 + "px"
			confetti.style.transform = "rotate("+rotation+"deg)"

			confetti.style.setProperty("--startRot", startRot)
			confetti.style.setProperty("--endRot", endRot)

			function fall(){
				confetti.style.top = parseInt(confetti.style.top)+20+"px"
				console.log(confetti.style.top)
			}

				setInterval(fall, 100)

		}

		dropConfettiBtn.addEventListener("click", function() {
			for ( let i = 0; i < 10; i++) {
				makeConfetti()

			}

		})
		let colorPicker = document.getElementById("colorPicker")
		console.log(colorPicker.value)
</script>
</body>
</html>